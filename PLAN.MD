# IW03

## App工作流程

```mermaid
graph LR
    启动 --> 加载 --> 缓存 --> 显示
    
```

- 启动之后预置表格行

- 要进行网络通信, 通过并发获取各个URL的HTML, 存储 title, 获取各个新闻的URL, 存储在对应的位置

- 通过并发获取各个新闻的 URL 的详情信息, 存储

- 表格点击显示详情

## 已有工作

- 页面UI相关已经实现，详情展示页面也已经完成

## 剩余工作

- table view 参考上一个作业，修改代码，实现页面展示
    - table cell自身的展示
        - 可以直接抄上次作业的代码
    - table cell点击之后的页面切换
        - 可能需要靠bing
    - 切换之后信息的展示
        - 直接抄上次作业代码的逻辑
        
- 详情页分为title， text1，image和text2，需要从html页面中抽取出来
    - text和image的数量不稳定，这就很搞了
    - 不管他，只考虑前面一张图片和两段文字，少的留空，多的忽略
    
- 通过 fetch data 获得数据并缓存，数据的获取要通过并发
    - 通过 GCD 进行多次访问并存储
        - 可以一次性访问四个页面
        - 可以一次性解析多个文本？
        - 数据的缓冲不要理他了
    - 存储的顺序应当怎么实现？？
        - 预先设定空行， title和date都是空的
        - 解析出来的title，date，html按列表顺序存储
        - 仿照PPT给出的一个例子进行实现
        	
- 表格title的获取：
    - 只考虑前面5个页面
    - 预先设定空的表格行
    - 通过循环结合GCD解析，获得html文件
    - 通过字符串匹配，每页面14个新闻，存储列表的对应位置中

- 新闻点击之后
    - 通过fetch data获得html文件
    - 尝试匹配title，两个text，和一个image，然后展示匹配到的结果
    
- 现在所需要做的工作
    - 写一个好用的正则表达式匹配函数
        - 输入行编号，返回表格行
    - 写一个好用的正则表达式匹配函数
        - 输入html，返回title，text1，text2，image
    - 获得“关于ITSC”的文本并展示
        - 这是一个一劳永逸的活
        
- 需要考虑的事情：
    - 调整自动化布局(done)
    - 设置各个 view 的 table controller(搞定基本的模版)
    - table view 的实现：展示效果可以通过上次作业的代码修改，这个优先实现(需要有进一步的html消息)
    - 各个tableview可以共享同一个cell
    - “关于ITSC”的文本并展示：
        - 搞定fetch data函数，获取html
        - 实验 NSRegularExpression，搞定基本的使用方法
    
